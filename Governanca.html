
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment de Maturidade em Governança - PEERS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <style>
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        :root {
            --peers-blue: #011334;
            --peers-lime: #E1FF00;
            --peers-gray: #F2F2F2;
            --peers-serene: #D8E8EE;
        }
        
        .bg-peers-blue { background-color: var(--peers-blue); }
        .bg-peers-lime { background-color: var(--peers-lime); }
        .bg-peers-gray { background-color: var(--peers-gray); }
        .text-peers-blue { color: var(--peers-blue); }
        .text-peers-lime { color: var(--peers-lime); }
        .border-peers-blue { border-color: var(--peers-blue); }
        .border-peers-lime { border-color: var(--peers-lime); }
        
        .btn-primary {
            background-color: var(--peers-lime);
            color: var(--peers-blue);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(1, 19, 52, 0.2);
        }
        
        .btn-secondary {
            background-color: white;
            color: var(--peers-blue);
            border: 2px solid var(--peers-blue);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background-color: var(--peers-blue);
            color: white;
        }

        /* Estilos para o termômetro visual */
        .thermometer-gradient {
            background: linear-gradient(to right, 
                #ef4444 0%, 
                #f59e0b 25%, 
                #fde047 50%, 
                #84cc16 75%, 
                #22c55e 100%
            );
        }
        
        .score-indicator {
            transition: left 0.7s ease-in-out;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }
        
        /* Estilos para os pilares de governança */
        .governance-pillar {
            transition: transform 0.3s ease;
            position: relative;
        }
        
        .governance-pillar:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }
        
        .maturity-option {
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .maturity-option:hover {
            transform: scale(1.05);
        }
        
        .maturity-option.selected {
            background-color: var(--peers-lime);
            color: var(--peers-blue);
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(225, 255, 0, 0.3);
        }
        
        .principle-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-left: 4px solid var(--peers-blue);
        }
        
        .question-card {
            background: var(--peers-gray);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Container do radar com padding */
        #radarChart {
            max-width: 100% !important;
            height: auto !important;
        }

        /* Ajuste do grid do relatório */
        .report-grid {
            display: grid;
            grid-template-columns: 0.9fr 1.1fr;
            gap: 3rem;
            align-items: center;
        }

        @media (max-width: 1024px) {
            .report-grid {
                grid-template-columns: 1fr !important;
                gap: 1rem !important;
            }
            
            #radarChart {
                max-height: 320px !important;
            }
            
            .p-4.md\:p-8 {
                min-height: 350px !important;
            }
        }
        
        .info-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--peers-blue);
            color: white;
            text-align: center;
            line-height: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }

        .info-icon:hover {
            background-color: var(--peers-lime);
            color: var(--peers-blue);
            transform: scale(1.2);
        }

        /* Tooltip para desktop */
        .info-tooltip {
            position: absolute;
            background: white;
            border: 2px solid var(--peers-blue);
            border-radius: 8px;
            padding: 12px;
            width: 250px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.25);
            z-index: 99999;
            display: none;
            font-size: 0.875rem;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            white-space: normal;
            word-wrap: break-word;
            line-height: 1.4;
        }

        .info-tooltip.show {
            display: block;
        }

        /* Overlay para mobile */
        .tooltip-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9998;
            display: none;
        }

        .tooltip-overlay.show {
            display: block;
        }

        /* CORREÇÃO ESPECÍFICA PARA MOBILE */
        @media (max-width: 768px) {
            /* Canvas do radar otimizado para mobile */
            #radarChart {
                max-width: 100% !important;
                max-height: 300px !important;
                height: auto !important;
            }
            
            /* Container da pontuação geral mais compacto */
            .bg-peers-gray.rounded-2xl {
                padding: 1.5rem !important;
            }
            
            .info-tooltip {
                position: fixed !important;
                width: 85vw !important;
                max-width: 350px !important;
                bottom: auto !important;
                top: 50% !important;
                left: 50% !important;
                transform: translate(-50%, -50%) !important;
                z-index: 99999 !important;
            }
            
            .maturity-option {
                padding: 0.75rem !important;
                min-height: 100px;
            }
            
            .maturity-option .font-semibold {
                font-size: 0.7rem !important;
                line-height: 1.2 !important;
                text-align: center;
                word-break: break-word;
                hyphens: auto;
            }
            
            .maturity-option .text-2xl {
                font-size: 1.5rem !important;
            }
            
            .info-icon {
                position: static !important;
            }
        }
        
        .recommendation-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 4px solid var(--peers-lime);
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin-bottom: 1.25rem;
            overflow: hidden;
        }
        
        .level-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .principle-card { page-break-inside: avoid; }
        }
    </style>
</head>
<body class="bg-peers-gray">
    <!-- Overlay para tooltips em mobile -->
    <div class="tooltip-overlay" onclick="closeAllTooltips()"></div>
    
    <!-- Header -->
    <header class="bg-peers-blue text-white py-4 md:py-6 px-4 md:px-8 shadow-lg">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-3">
            <img src="https://d3fh32tca5cd7q.cloudfront.net/wp-content/uploads/2025/03/logo.svg" 
                alt="PEERS" 
                class="h-8 md:h-10 w-auto">
            <div class="text-xs md:text-sm text-center">
                <span class="text-peers-lime">Assessment</span> | Governança Corporativa
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8">
        <!-- Progress Indicator -->
        <div id="progressIndicator" class="mb-8 hidden">
            <div class="bg-white rounded-lg p-4 shadow">
                <div class="flex justify-between mb-2">
                    <span class="text-sm font-medium text-peers-blue">Progresso</span>
                    <span id="progressText" class="text-sm text-gray-600">0%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div id="progressBar" class="bg-peers-lime h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="bg-white rounded-2xl shadow-xl p-12 text-center fade-in">
            <div class="max-w-3xl mx-auto">
                <div class="mb-8">
                    <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-peers-lime mb-6">
                        <svg class="w-10 h-10 text-peers-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-peers-blue mb-4">Assessment de Governança Corporativa</h2>
                    <p class="text-gray-600 mb-6">Avalie o nível de maturidade da sua organização em práticas essenciais de governança corporativa</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4 mb-8">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <h3 class="font-semibold text-peers-blue mb-2">O que será avaliado:</h3>
                        <ul class="space-y-1 text-sm text-gray-600 text-left">
                            <li>• Transparência além do discurso</li>
                            <li>• Equidade aos stakeholders</li>
                            <li>• Accountability nas decisões</li>
                            <li>• Ferramentas de integridade corporativa</li>
                            <li>• Sustentabilidade e continuidade do negócio</li>
                        </ul>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <h3 class="font-semibold text-peers-blue mb-2">Como funciona:</h3>
                        <ul class="space-y-1 text-sm text-gray-600 text-left">
                            <li>• 15 perguntas objetivas</li>
                            <li>• Escala de maturidade 1-5</li>
                            <li>• Tempo estimado: 5-10 minutos</li>
                            <li>• Relatório com recomendações personalizadas</li>
                            <li>• Plano de ação por princípio</li>
                        </ul>
                    </div>
                </div>
                
                <button onclick="startAssessment()" class="btn-primary py-4 px-12 rounded-lg font-semibold text-lg">
                    Iniciar Assessment →
                </button>
            </div>
        </div>

        <!-- Assessment Questions -->
        <div id="assessmentQuestions" class="hidden">
            <div id="questionsContainer"></div>
            
            <!-- Navigation Buttons -->
            <div class="flex justify-between mt-8">
                <button id="prevBtn" onclick="previousPrinciple()" class="btn-secondary py-3 px-8 rounded-lg font-semibold hidden">
                    ← Anterior
                </button>
                <button id="nextBtn" onclick="nextPrinciple()" class="btn-primary py-3 px-8 rounded-lg font-semibold">
                    Próximo →
                </button>
                <button id="submitBtn" onclick="submitAssessment()" class="btn-primary py-3 px-8 rounded-lg font-semibold hidden">
                    Concluir Assessment →
                </button>
            </div>
        </div>

        <!-- Data Capture Form -->
        <div id="dataCaptureSection" class="hidden">
            <div class="bg-white rounded-2xl shadow-xl p-8 max-w-2xl mx-auto">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-peers-lime mb-4">
                        <svg class="w-8 h-8 text-peers-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-peers-blue mb-2">Assessment Concluído!</h2>
                    <p class="text-gray-600">Para gerar seu relatório personalizado, precisamos de algumas informações:</p>
                </div>
                
                <form id="dataForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Nome completo *</label>
                        <input type="text" id="userName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-peers-lime focus:border-transparent" placeholder="Seu nome">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Empresa *</label>
                        <input type="text" id="userCompany" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-peers-lime focus:border-transparent" placeholder="Nome da empresa">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">E-mail corporativo *</label>
                        <input type="email" id="userEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-peers-lime focus:border-transparent" placeholder="seu@email.com">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">WhatsApp</label>
                        <input 
                            type="tel" 
                            id="userWhatsapp" 
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-peers-lime focus:border-transparent" 
                            placeholder="(11) 99999-9999" 
                            maxlength="15"
                            autocomplete="tel"
                            inputmode="numeric">
                        <span class="text-xs text-gray-500 mt-1">Digite apenas números</span>
                    </div>
                                
                    <div class="flex items-start mt-4">
                        <input type="checkbox" id="consent" required class="mt-1 mr-2">
                        <label for="consent" class="text-sm text-gray-600">
                            Concordo em compartilhar essas informações para receber o relatório personalizado.
                        </label>
                    </div>
                    
                    <button type="submit" class="w-full btn-primary py-4 rounded-lg font-semibold text-lg mt-6">
                        Gerar Relatório Personalizado →
                    </button>
                </form>
            </div>
        </div>

        <!-- Report Section -->
        <div id="reportSection" class="hidden">
            <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
                <h2 class="text-3xl font-bold text-peers-blue mb-8 text-center">Relatório de Maturidade em Governança</h2>
                
                <!-- Overall Score -->
                <div class="report-grid mb-8">
                    <div class="text-center">
                        <div class="bg-peers-gray rounded-2xl p-8">
                            <h3 class="text-xl font-semibold text-peers-blue mb-4">Pontuação Geral</h3>
                            <div id="overallScore" class="text-6xl font-bold text-peers-blue mb-2"></div>
                            <div id="overallLevel" class="text-lg text-gray-400 mb-6"></div>
                            
                            <!-- Termômetro Visual -->
                            <div class="mt-6 px-3 md:px-6">
                                <div class="relative pb-8">
                                    <div class="relative w-full h-10 md:h-12 thermometer-gradient rounded-full shadow-inner" style="overflow: hidden;">
                                        <div id="scoreIndicator" class="absolute score-indicator" style="left: 0%; width: 26px; height: 26px; top: 50%; margin-top: -13px; margin-left: -13px;">
                                            <div class="w-full h-full bg-white rounded-full border-4 border-peers-blue shadow-lg"></div>
                                        </div>
                                    </div>
                                    
                                    <!-- Labels do termômetro - APENAS NÚMEROS -->
                                    <div class="absolute bottom-0 left-0 right-0 flex justify-between items-center">
                                        <div class="text-center" style="width: 20%;">
                                            <div class="text-sm md:text-base font-bold text-gray-700">1</div>
                                        </div>
                                        <div class="text-center" style="width: 20%;">
                                            <div class="text-sm md:text-base font-bold text-gray-700">2</div>
                                        </div>
                                        <div class="text-center" style="width: 20%;">
                                            <div class="text-sm md:text-base font-bold text-gray-700">3</div>
                                        </div>
                                        <div class="text-center" style="width: 20%;">
                                            <div class="text-sm md:text-base font-bold text-gray-700">4</div>
                                        </div>
                                        <div class="text-center" style="width: 20%;">
                                            <div class="text-sm md:text-base font-bold text-gray-700">5</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-4 md:p-8" style="display: flex; align-items: center; justify-content: center; min-height: 350px;">
                        <div style="position: relative; width: 100%; max-width: 100%; margin: 0 auto;">
                            <canvas id="radarChart" style="max-width: 100%; height: auto;"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Pilares de Governança -->
                <div class="bg-white rounded-2xl p-6 md:p-8 mb-8">
                    <h3 class="text-2xl font-bold text-peers-blue mb-4 text-center">Pilares de Governança Corporativa</h3>
                    <p class="text-gray-600 text-center mb-8">Uma governança corporativa robusta deve se basear nos pilares mínimos para garantir uma boa gestão</p>
                    
                    <!-- Layout Quebra-Cabeça Responsivo -->
                    <div class="flex flex-col md:flex-row md:flex-wrap justify-center items-center gap-3 md:gap-4 max-w-6xl mx-auto">
                        <!-- Pilar 1 -->
                        <div class="w-full md:w-56 bg-blue-50 rounded-2xl p-5 border-2 border-blue-200 hover:shadow-lg transition-all relative">
                            <div class="hidden md:block absolute -right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-blue-50 rounded-full border-2 border-blue-200 z-10"></div>
                            <h4 class="font-bold text-peers-blue text-sm mb-3">Ferramentas de integridade corporativa</h4>
                            <ul class="text-xs text-gray-700 space-y-1.5">
                                <li>• Promover cultura ética</li>
                                <li>• Evitar conflitos de interesse</li>
                                <li>• Manter coerência entre discurso e ação</li>
                            </ul>
                        </div>
                        
                        <!-- Pilar 2 -->
                        <div class="w-full md:w-56 bg-blue-100 rounded-2xl p-5 border-2 border-blue-300 hover:shadow-lg transition-all relative">
                            <div class="hidden md:block absolute -left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-white rounded-full border-2 border-blue-300 z-0"></div>
                            <div class="hidden md:block absolute -right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-blue-100 rounded-full border-2 border-blue-300 z-10"></div>
                            <h4 class="font-bold text-peers-blue text-sm mb-3">Transparência além do discurso</h4>
                            <ul class="text-xs text-gray-700 space-y-1.5">
                                <li>• Disponibilizar informações verdadeiras</li>
                                <li>• Informações devem contemplar fatores ambientais e sociais</li>
                                <li>• Promover ambiente de confiança</li>
                            </ul>
                        </div>
                        
                        <!-- Pilar 3 -->
                        <div class="w-full md:w-56 bg-yellow-100 rounded-2xl p-5 border-2 border-yellow-300 hover:shadow-lg transition-all relative">
                            <div class="hidden md:block absolute -left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-white rounded-full border-2 border-yellow-300 z-0"></div>
                            <div class="hidden md:block absolute -right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-yellow-100 rounded-full border-2 border-yellow-300 z-10"></div>
                            <h4 class="font-bold text-peers-blue text-sm mb-3">Equidade aos stakeholders</h4>
                            <ul class="text-xs text-gray-700 space-y-1.5">
                                <li>• Tratar todos os sócios e partes interessadas de forma justa</li>
                                <li>• Equidade deve levar em conta diversidade e as demandas de cada perfil</li>
                            </ul>
                        </div>
                        
                        <!-- Pilar 4 -->
                        <div class="w-full md:w-56 bg-gray-100 rounded-2xl p-5 border-2 border-gray-300 hover:shadow-lg transition-all relative">
                            <div class="hidden md:block absolute -left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-white rounded-full border-2 border-gray-300 z-0"></div>
                            <div class="hidden md:block absolute -right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-gray-100 rounded-full border-2 border-gray-300 z-10"></div>
                            <h4 class="font-bold text-peers-blue text-sm mb-3">Accountability nas decisões</h4>
                            <ul class="text-xs text-gray-700 space-y-1.5">
                                <li>• Desempenhar funções com diligência</li>
                                <li>• Assumir responsabilidade pelas consequências</li>
                                <li>• Prestar contas de forma clara e tempestiva</li>
                            </ul>
                        </div>
                        
                        <!-- Pilar 5 -->
                        <div class="w-full md:w-56 bg-lime-100 rounded-2xl p-5 border-2 border-lime-300 hover:shadow-lg transition-all relative">
                            <div class="hidden md:block absolute -left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-white rounded-full border-2 border-lime-300 z-0"></div>
                            <h4 class="font-bold text-peers-blue text-sm mb-3">Sustentabilidade e continuidade do negócio</h4>
                            <ul class="text-xs text-gray-700 space-y-1.5">
                                <li>• Zelar pela viabilidade econômico-financeira</li>
                                <li>• Reduzir externalidades negativas</li>
                                <li>• Considerar capitais financeiros, humanos, sociais e naturais</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Detailed Scores by Principle -->
                <div class="bg-white rounded-2xl shadow-xl p-4 md:p-8">
                    <h3 class="text-xl md:text-2xl font-bold text-peers-blue mb-4 md:mb-6">Análise por Princípio</h3>
                    <div id="principleScores"></div>
                </div>

                <!-- Personalized Recommendations -->
                <div class="bg-white rounded-2xl shadow-xl p-4 md:p-8 mt-6 md:mt-8">
                    <h3 class="text-xl md:text-2xl font-bold text-peers-blue mb-4 md:mb-6">Plano de Recomendações Personalizado</h3>
                    <p class="text-sm md:text-base text-gray-600 mb-4 md:mb-6">Com base na sua avaliação, aqui estão as recomendações específicas para evolução da maturidade em governança:</p>
                    <div id="recommendationsContainer"></div>
                </div>

                <!-- Actions -->
                <div class="flex gap-4 justify-center mt-8 no-print">
                    <button onclick="startNewAssessment()" class="btn-primary py-3 px-8 rounded-lg font-semibold">
                        Novo Assessment
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script>
const assessmentData = {
            title: "Assessment de Governança Corporativa",
            principles: {
                "Princípio 1: Transparência além do discursos": {
                    questions: [
                        {
                            text: "Nossa organização divulga informações financeiras e não financeiras de forma clara, completa e acessível a todas as partes interessadas (acionistas, colaboradores, clientes, fornecedores, comunidade, etc.)?",
                            levels: {
                                1: "Não há divulgação estruturada dessas informações.",
                                2: "Algumas informações são divulgadas, mas de forma pontual, incompleta ou sem clareza.",
                                3: "Existe divulgação regular, mas nem sempre é completa, acessível ou padronizada.",
                                4: "As informações são divulgadas de forma clara, completa e acessível a todas as partes interessadas, com consistência.",
                                5: "Divulgação clara, completa e acessível, com práticas adicionais de melhoria contínua (ex.: relatórios integrados, dashboards."
                            },
                            recommendations: {
                                1: "Reconhecer a importância de divulgar informações financeiras e não financeiras. Começar mapeando quais dados são relevantes para cada público (por exemplo balanços financeiros, indicadores de sustentabilidade, políticas de governança) e disponibilizar relatórios básicos em linguagem acessível no site ou intranet, assegurando que as partes interessadas saibam onde encontrá‑los.",
                                2: "Formalizar uma política de divulgação que defina conteúdos, periodicidade, responsabilidades e padrões de verificação. Criar procedimentos para revisão das informações antes da publicação, incluindo dados ambientais, sociais e de governança (ESG), e garantir que as equipes responsáveis sejam treinadas para seguir essas diretrizes.",
                                3: "Ampliar o escopo das divulgações com um relatório integrado que consolide resultados financeiros e indicadores ESG. Adotar frameworks de referência (como GRI ou IIRC), estabelecer indicadores‑chave de desempenho e implementar um processo de coleta de dados estruturado com apoio de tecnologia. Submeter os relatórios a revisão interna ou independente antes da divulgação.",
                                4: "Consolidar a gestão da transparência incorporando os relatórios à estratégia da empresa. Disponibilizar dashboards digitais em tempo real com indicadores financeiros e não financeiros para os principais públicos, realizar revisões periódicas das políticas de divulgação e promover a participação do conselho na supervisão do conteúdo e da qualidade das informações.",
                                5: "Alcançar excelência em transparência, tornando‑se referência no mercado. Publicar relatórios completos com certificações independentes, adotar padrões globais de reporte (GRI, SASB, TCFD) e inovar no formato de apresentação (ferramentas interativas, uso de dados abertos). Compartilhar boas práticas com o setor e engajar stakeholders na evolução contínua da transparência."
                            }
                        },
                        {
                            text: "Existem canais formais e eficazes para que as partes interessadas possam solicitar informações e obter respostas de forma tempestiva?",
                            levels: {
                                1: "Não existem canais formais para solicitação de informações.",
                                2: "Há canais disponíveis, mas pouco divulgados ou pouco utilizados.",
                                3: "Os canais são formais e utilizados, mas nem sempre respondem de forma tempestiva ou eficaz.",
                                4: "Existem canais formais, claros e eficazes, com respostas tempestivas na maioria dos casos.",
                                5: "Canais estruturados, monitorados e respondem de forma ágil e eficaz, com acompanhamento da satisfação dos stakeholders."
                            },
                             recommendations: {
                                1: "Identificar os principais grupos de partes interessadas e disponibilizar canais básicos (e‑mail ou telefone dedicados) para solicitações de informação, assegurando registro das solicitações e prazos de resposta.",
                                2: "Formalizar a política de comunicação com stakeholders, definindo padrões de atendimento, tempos de resposta e responsabilidades. Implementar um processo de triagem e respostas padronizadas e treinar as equipes de atendimento.",
                                3: "Ampliar os canais com ferramentas digitais (portal web, aplicativo ou chatbot) que permitam acompanhar o status das solicitações. Monitorar métricas de desempenho (tempo médio de resposta, satisfação do solicitante) e revisar periodicamente os processos de atendimento.",
                                4: "Integrar a gestão de solicitações ao sistema de governança, garantindo que as demandas dos stakeholders sejam analisadas pelo conselho ou comitês relevantes. Divulgar relatórios de atendimentos, utilizar feedback para melhoria contínua e adotar comunicação multicanal (e‑mail, chat, mídias sociais, reuniões).",
                                5: "Ser referência em diálogo com partes interessadas, oferecendo atendimento proativo e multilingue, canais 24/7 e acompanhamento personalizado. Utilizar tecnologias avançadas para análise de dados e tendências nas demandas e divulgar de forma transparente como as contribuições dos stakeholders influenciam decisões estratégicas."
                            }
                        },
                        {
                            text: "As decisões estratégicas e os processos de tomada de decisão são comunicados de forma transparente, explicando os motivos e impactos?",
                            levels: {
                                1: "As decisões não são comunicadas ou não há explicação dos motivos e impactos.",
                                2: "Algumas decisões são comunicadas, mas sem consistência e sem detalhamento dos motivos e impactos.",
                                3: "A maioria das decisões estratégicas é comunicada, mas com explicações limitadas ou superficiais.",
                                4: "As decisões são comunicadas de forma transparente, com explicação clara dos motivos e impactos relevantes.",
                                5: "Decisões são comunicadas com transparência, com explicações completas de motivos e impactos, com oportunidades de diálogo e feedback."
                            },
                            recommendations: {
                                1: "Começar documentando as decisões estratégicas e compartilhando resumos com os colaboradores, explicando de forma simples o contexto e os impactos esperados. Realizar reuniões ou comunicados internos sempre que houver decisões relevantes.",
                                2: "Desenvolver um plano de comunicação das decisões, com etapas, prazos e responsáveis definidos. Publicar atas de reuniões estratégicas ou relatórios resumidos para os acionistas e colaboradores, descrevendo os critérios considerados nas decisões e os riscos envolvidos.",
                                3: "Ampliar a transparência incorporando consultas a stakeholders antes de decisões críticas, divulgando os resultados das análises de risco e impacto. Estabelecer um mecanismo para que colaboradores e partes interessadas possam enviar perguntas e receber respostas sobre decisões.",
                                4: "Integrar a comunicação estratégica aos processos de governança corporativa, utilizando plataformas digitais para registrar e divulgar decisões em tempo real. Revisar regularmente a eficácia da comunicação e envolver o conselho na supervisão da clareza e consistência das mensagens.",
                                5: "Ser reconhecido pela transparência nos processos decisórios, promovendo debates abertos, comunicando motivos, riscos e benefícios de forma detalhada e usando análises preditivas para explicar cenários alternativos. Divulgar estudos de caso e compartilhar aprendizados com o mercado."
                            }
                        }
                    ],
                    recommendations: {
                        low: [
                            "Implementar política de transparência com definição clara de informações a serem divulgadas",
                            "Criar canais formais de comunicação com stakeholders (portal, SAC, ouvidoria)",
                            "Estabelecer calendário regular de divulgação de informações financeiras e não-financeiras"
                        ],
                        medium: [
                            "Aprimorar a qualidade e acessibilidade das informações divulgadas",
                            "Implementar sistema de gestão de solicitações com SLAs definidos",
                            "Desenvolver relatórios integrados seguindo padrões internacionais (GRI, SASB)"
                        ],
                        high: [
                            "Buscar certificações de transparência e aderir a índices de sustentabilidade",
                            "Implementar práticas de transparência ativa com dashboards públicos",
                            "Estabelecer programa de engajamento contínuo com stakeholders"
                        ]
                    }
                },
                "Princípio 2: Equidade stakeholders": {
                    questions: [
                        {
                            text: "Nossa organização garante tratamento justo e igualitário a todos os acionistas, independentemente do tipo ou volume de suas ações?",
                            levels: {
                                1: "Não há garantias ou práticas de tratamento justo e igualitário entre os acionistas.",
                                2: "Existem intenções ou práticas pontuais, mas não formalizadas, e podem ocorrer diferenciações.",
                                3: "Há práticas de tratamento igualitário, mas com falhas ocasionais ou falta de formalização.",
                                4: "O tratamento justo e igualitário é garantido a todos os acionistas, independentemente do volume de ações.",
                                5: "O tratamento justo e igualitário é sistemático, auditado e reforçado por políticas e práticas reconhecidas como referência."
                            },
                             recommendations: {
                                1: "Realizar um diagnóstico das práticas de governança para garantir que todos os acionistas recebam as mesmas informações e oportunidades de participação. Incluir cláusulas básicas de igualdade no estatuto social e garantir que as assembleias gerais sejam acessíveis a todos.",
                                2: "Formalizar políticas de equidade que detalhem direitos de voto e acesso à informação, contemplando acionistas minoritários. Criar mecanismos para ouvir e registrar as demandas de cada grupo acionário e comunicar decisões relevantes de forma simultânea.",
                                3: "Reforçar a representação de acionistas minoritários em conselhos ou comitês, adotando práticas como ‘uma ação, um voto’. Implementar procedimentos para analisar e mitigar conflitos de interesse e manter relatórios de transações entre partes relacionadas.",
                                4: "Integrar a equidade aos processos estratégicos, avaliando impactos nas diversas classes de acionistas antes de tomar decisões. Divulgar relatórios de governança que evidenciem o tratamento igualitário e desenvolver treinamentos para conselheiros e executivos sobre direitos dos acionistas.",
                                5: "Ser referência em equidade, indo além das exigências legais: oferecer ferramentas digitais para participação remota nas assembleias, divulgar informações em tempo real e envolver acionistas minoritários na definição de políticas. Compartilhar boas práticas de proteção dos direitos dos acionistas com outras organizações."
                            }
                        },
                        {
                            text: "Existem políticas e práticas claras que asseguram a não discriminação e o respeito à diversidade entre colaboradores, clientes e fornecedores?",
                            levels: {
                                1: "Não existem políticas ou práticas de não discriminação e diversidade.",
                                2: "Iniciativas pontuais sem política estruturada.",
                                3: "Existem políticas e práticas formais, mas ainda com aplicação irregular ou pouco monitoradas.",
                                4: "Políticas e práticas de não discriminação e respeito à diversidade formalizadas e aplicadas de forma consistente.",
                                5: "Políticas e práticas são amplamente aplicadas, monitoradas, auditadas e reconhecidas como referência."
                            },
                            recommendations: {
                                1: "Reconhecer a importância da diversidade e iniciar a elaboração de um código de conduta que proíba discriminação por raça, gênero, orientação sexual, religião ou outras características. Sensibilizar a liderança sobre o tema e divulgar a política para colaboradores e fornecedores.",
                                2: "Formalizar políticas de diversidade e inclusão, estabelecendo processos de recrutamento e seleção imparciais, além de canais para denunciar práticas discriminatórias. Promover treinamentos para colaboradores e parceiros sobre diversidade, respeito e inclusão.",
                                3: "Ampliar as iniciativas com metas claras de representatividade, programas de desenvolvimento de talentos diversos e inclusão de cláusulas de diversidade nos contratos com fornecedores. Monitorar indicadores (por exemplo, equidade salarial e composição de liderança) e publicar resultados.",
                                4: "Integrar a diversidade à estratégia de negócios, criando grupos de afinidade, programas de mentoria e inserindo critérios de diversidade nas avaliações de desempenho e na seleção de fornecedores. Reportar publicamente os avanços e desafios, envolvendo a alta administração no acompanhamento.",
                                5: "Ser referência em diversidade e inclusão, liderando iniciativas setoriais, participando de índices e certificações e compartilhando práticas com o mercado. Manter transparência total sobre indicadores e metas de diversidade e utilizar os resultados para inovar em produtos e serviços."
                            }
                        },
                        {
                            text: "Os mecanismos de resolução de conflitos entre as partes interessadas são imparciais e acessíveis a todos?",
                            levels: {
                                1: "Não existem mecanismos formais de resolução de conflitos.",
                                2: "Existem práticas informais ou pouco estruturadas, sem garantia de imparcialidade.",
                                3: "Há mecanismos formais, mas nem sempre são acessíveis ou totalmente imparciais.",
                                4: "Os mecanismos de resolução de conflitos são formais, imparciais e acessíveis a todas as partes interessadas.",
                                5: "Formais, imparciais, acessíveis, monitorados e utilizados como referência para melhoria contínua nas relações com stakeholders."
                            },
                            recommendations: {
                                1: "Criar um canal simples e acessível para registro de reclamações e conflitos, definindo responsáveis e prazos para respostas. Assegurar a confidencialidade das reclamações e a imparcialidade no tratamento inicial.",
                                2: "Formalizar um processo de resolução de conflitos com etapas e prazos definidos, incluindo a atuação de um ombudsman interno ou equipe de compliance independente. Treinar os responsáveis em técnicas de mediação e conciliação.",
                                3: "Ampliar os mecanismos de resolução com ferramentas digitais que permitam acompanhar o status das reclamações, incluir opções de mediação e arbitragem externa e realizar análises periódicas de causas raiz para prevenção de novos conflitos.",
                                4: "Integrar a gestão de conflitos à governança, estabelecendo um comitê independente com participação de partes externas para analisar casos mais complexos, monitorar indicadores de conflitos e divulgar relatórios agregados de resultados e melhorias implementadas.",
                                5: "Tornar‑se referência em resolução de conflitos, utilizando plataformas tecnológicas e parceiros especializados para oferecer serviços rápidos e imparciais. Divulgar publicamente estatísticas sobre conflitos resolvidos, lições aprendidas e aprimorar continuamente a política com base no feedback das partes interessadas."
                            }
                        }
                    ],
                    recommendations: {
                        low: [
                            "Desenvolver política de tratamento equitativo de acionistas",
                            "Criar política de diversidade e inclusão com metas claras",
                            "Estruturar política de remuneração com critérios transparentes"
                        ],
                        medium: [
                            "Implementar comitê de equidade com participação diversa",
                            "Realizar censo de diversidade e estabelecer metas de evolução",
                            "Conduzir análise de equidade salarial com plano de correção"
                        ],
                        high: [
                            "Aderir a pactos e certificações de equidade (WEPs, Selo de Diversidade)",
                            "Implementar programa de equidade salarial com auditoria externa",
                            "Estabelecer metas de diversidade atreladas à remuneração executiva"
                        ]
                    }
                },
                "Princípio 3: Accountability nas decisões": {
                    questions: [
                        {
                            text: "Os órgãos de governança (Conselho de Administração, Diretoria, etc.) definem claramente suas responsabilidades e prestam contas de suas ações e resultados de forma regular?",
                            levels: {
                                1: "Não há definição clara de responsabilidades nem prestação de contas pelos órgãos de governança.",
                                2: "Há alguma definição de responsabilidades, mas a prestação de contas é esporádica ou pouco estruturada.",
                                3: "As responsabilidades estão definidas e há prestação de contas, mas de forma parcial ou não sistemática.",
                                4: "As responsabilidades são claramente definidas e há prestação de contas regular e estruturada.",
                                5: "A definição de responsabilidades e a prestação de contas são claras, regulares, transparentes e alinhadas às melhores práticas."
                            },
                            recommendations: {
                                1: "Mapear as responsabilidades dos órgãos de governança, registrar em documentos básicos (regimentos internos e atas) e divulgar aos principais públicos. Realizar reuniões periódicas e registrar decisões e resultados.",
                                2: "Formalizar regimentos internos detalhados para o conselho e a diretoria, especificando suas atribuições, prazos e indicadores de desempenho. Estabelecer um calendário de prestação de contas com relatórios periódicos para acionistas e demais stakeholders.",
                                3: "Desenvolver processos de avaliação de desempenho dos órgãos de governança, incluindo autoavaliação e avaliação externa. Divulgar os resultados e planos de ação para melhoria, além de alinhar a remuneração e incentivos à performance e ao cumprimento de responsabilidades.",
                                4: "Integrar a prestação de contas à estratégia organizacional, publicando relatórios de governança e sustentabilidade, realizando assembleias e encontros com stakeholders para discutir resultados e decisões. Envolver o conselho em temas de risco, sustentabilidade e inovação.",
                                5: "Ser reconhecido pela transparência e responsabilidade de seus órgãos de governança, adotando auditorias independentes, compartilhando as melhores práticas de prestação de contas e participando de índices e certificações que avaliem a qualidade da governança corporativa."
                            }
                        },
                        {
                            text: "Existem mecanismos eficazes para monitorar e avaliar o desempenho da gestão e a conformidade com as políticas e regulamentos internos e externos?",
                            levels: {
                                1: "Não existem mecanismos formais de monitoramento ou avaliação da gestão e conformidade.",
                                2: "Existem práticas pontuais de monitoramento, mas sem consistência ou abrangência.",
                                3: "Há mecanismos formais de monitoramento e avaliação, mas ainda com cobertura parcial ou aplicação irregular.",
                                4: "Os mecanismos são eficazes, cobrindo desempenho e conformidade de forma regular e confiável.",
                                5: "Monitoramento e a avaliação eficazes, abrangentes e contínuos, com indicadores, auditorias e processos de melhoria contínua."
                            },
                            recommendations: {
                                1: "Identificar indicadores básicos de desempenho e requisitos legais, implementando controles simples para monitorar o cumprimento de políticas internas e obrigações externas. Registrar incidentes e ajustar processos conforme necessário.",
                                2: "Formalizar uma área ou comitê de auditoria e compliance, definir métricas de desempenho alinhadas à estratégia e estabelecer processos de monitoramento periódico, incluindo relatórios regulares ao conselho.",
                                3: "Ampliar a estrutura de monitoramento com auditorias internas independentes, uso de ferramentas de análise de dados para acompanhar indicadores de desempenho em tempo real e revisão periódica das políticas e procedimentos de conformidade.",
                                4: "Integrar a avaliação de desempenho e conformidade aos sistemas de gestão da empresa, utilizando soluções de GRC (Governance, Risk & Compliance), relatórios de conformidade automatizados e avaliações de maturidade, além de envolver a alta gestão na revisão das políticas.",
                                5: "Ser referência em monitoramento e conformidade, realizando auditorias externas independentes, adotando certificados reconhecidos (como ISO 37301 de compliance) e compartilhando resultados e melhorias com os stakeholders."
                            }
                        },
                        {
                            text: "A organização possui um sistema de controles internos robusto que garante a integridade das informações e a proteção dos ativos?",
                            levels: {
                                1: "Não existem controles internos estruturados para proteger ativos ou garantir integridade das informações.",
                                2: "Existem controles básicos ou informais, mas insuficientes para assegurar proteção adequada.",
                                3: "Há um sistema de controles internos estabelecido, mas com fragilidades ou lacunas significativas.",
                                4: "O sistema de controles internos é robusto, cobre os principais riscos e funciona de forma consistente.",
                                5: "Sistema de controles internos robusto, atualizado continuamente, auditado e reconhecido como referência em boas práticas."
                            },
                            recommendations: {
                                1: "Iniciar o mapeamento dos processos e riscos críticos, definindo controles básicos (autorizações, revisões e segregação de funções) para garantir a integridade das informações e a proteção de ativos. Registrar os controles em procedimentos internos.",
                                2: "Formalizar uma política de controles internos baseada em frameworks reconhecidos (como o COSO), documentando os controles e designando responsáveis. Treinar colaboradores na execução e no registro das atividades de controle.",
                                3: "Aprimorar o sistema de controles com a adoção de controles automatizados, testes periódicos de eficácia e revisão contínua baseada em análise de riscos. Integrar os controles às plataformas tecnológicas utilizadas na organização e criar um processo de comunicação de falhas.",
                                4: "Integrar os controles internos ao sistema de gestão de riscos corporativos, garantindo que a alta administração e o conselho analisem periodicamente a eficácia dos controles e aprovem melhorias. Utilizar ferramentas de GRC para consolidar informações e relatórios.",
                                5: "Ser benchmark em controles internos, utilizando tecnologias avançadas (analytics, inteligência artificial) para monitorar transações em tempo real, realizar avaliações contínuas de controles e compartilhar melhores práticas com o mercado."
                            }
                        }
                    ],
                    recommendations: {
                        low: [
                            "Estabelecer calendário de prestação de contas com reuniões regulares",
                            "Criar matriz RACI para definir papéis e responsabilidades",
                            "Implementar auditoria interna com reporte ao conselho"
                        ],
                        medium: [
                            "Desenvolver sistema de KPIs com dashboards de acompanhamento",
                            "Implementar política de consequências para não-conformidades",
                            "Contratar auditoria externa independente com escopo amplo"
                        ],
                        high: [
                            "Implementar sistema integrado de gestão de riscos e compliance",
                            "Criar comitê de auditoria com membros independentes",
                            "Buscar certificação ISO 37001 (Sistema de Gestão Antissuborno)"
                        ]
                    }
                },
                "Princípio 4: Ferramentas de integridade Corporativa": {
                    questions: [
                        {
                            text: "Nossa organização possui um código de ética e conduta formalizado e amplamente divulgado, com canais seguros para denúncias de violações?",
                            levels: {
                                1: "Não existe código de ética e conduta formalizado.",
                                2: "Existe um código de ética, mas pouco divulgado e sem canais formais de denúncia.",
                                3: "O código de ética é formalizado e divulgado, com canais de denúncia disponíveis, mas ainda pouco estruturados ou confiáveis.",
                                4: "O código de ética é formalizado, amplamente divulgado, e há canais seguros e confiáveis para denúncias.",
                                5: "Código de ética formalizado, amplamente divulgado, com canais seguros, monitorados, independentes e reconhecidos como boas práticas."
                            },
                            recommendations: {
                                1: "Elaborar um código de ética inicial que defina princípios e comportamentos esperados e divulgar a todos os colaboradores. Estabelecer um canal de denúncias simples para relatar violações, garantindo anonimato e proteção contra retaliação.",
                                2: "Formalizar o código de ética e conduta, abrangendo colaboradores, fornecedores e parceiros, e disponibilizar treinamentos para assegurar o entendimento. Implantar um canal de denúncias seguro e independente (por telefone ou plataforma online), com procedimentos de investigação documentados.",
                                3: "Ampliar a abrangência do código, incluindo aspectos específicos de riscos do setor, e revisar periodicamente seu conteúdo. Implementar ferramentas de gestão das denúncias que permitam acompanhar cada caso até sua resolução, além de reportar estatísticas agregadas à liderança.",
                                4: "Integrar o código de ética aos processos de gestão de pessoas, incorporando‑o às avaliações de desempenho, a contratos e às decisões de promoção. Realizar campanhas frequentes de conscientização e divulgar relatórios sobre investigações e ações corretivas.",
                                5: "Ser referência em ética e integridade, com um código reconhecido externamente. Disponibilizar um canal de denúncias administrado por terceiros com certificações de compliance, divulgar publicamente dados consolidados de denúncias e resultados e engajar‑se em fóruns para promoção da ética no mercado."
                            }
                        },
                        {
                            text: "São realizadas treinamentos e campanhas regulares para promover a cultura de integridade e ética entre todos os colaboradores e parceiros?",
                            levels: {
                                1: "Não existem treinamentos ou campanhas sobre integridade e ética.",
                                2: "Existem treinamentos ou campanhas pontuais, sem periodicidade definida.",
                                3: "São realizados treinamentos e campanhas, mas de forma irregular ou com alcance limitado.",
                                4: "São realizados treinamentos e campanhas regulares, abrangendo colaboradores e parceiros.",
                                5: "Treinamentos e campanhas regulares, contínuos, avaliados e reconhecidos como referência em cultura de integridade."
                            },
                            recommendations: {
                                1: "Identificar os tópicos essenciais de integridade e ética e realizar sessões iniciais de sensibilização para colaboradores. Incluir o tema na integração de novos funcionários e divulgar materiais informativos.",
                                2: "Formalizar um programa de treinamento anual, com cronograma e conteúdo definidos, incluindo exemplos práticos e estudos de caso. Estender o programa a fornecedores e parceiros críticos e avaliar a compreensão dos participantes.",
                                3: "Aprimorar o programa com módulos personalizados por área, abordando riscos específicos, e utilizar recursos interativos (e‑learning, workshops, debates). Monitorar a eficácia por meio de indicadores (participação, avaliações) e atualizar o conteúdo periodicamente.",
                                4: "Integrar a cultura de integridade à gestão de talentos, inserindo a conclusão e o desempenho em treinamentos nas avaliações de performance, reconhecendo boas práticas e aplicando ações corretivas em caso de não cumprimento.",
                                5: "Ser referência em ética, com um programa de integridade reconhecido no mercado, oferecendo conteúdos inovadores (gamificação, simulações), certificações internas e participação em iniciativas externas. Compartilhar conhecimento com outras organizações e fomentar a cultura de integridade em toda a cadeia de valor."
                            }
                        },
                        {
                            text: "A organização adota medidas rigorosas para prevenir, detectar e combater fraudes, corrupção e outras condutas antiéticas?",
                            levels: {
                                1: "Não existem medidas estruturadas de prevenção ou combate a fraudes e corrupção.",
                                2: "Existem algumas medidas básicas, mas pouco formalizadas ou aplicadas.",
                                3: "Há medidas formalizadas de prevenção e combate, mas ainda com lacunas de aplicação ou monitoramento.",
                                4: "Existem medidas rigorosas, estruturadas e aplicadas de forma consistente para prevenir, detectar e combater fraudes e corrupção.",
                                5: "As medidas são robustas, continuamente aprimoradas, monitoradas por auditorias e alinhadas a padrões de referência nacionais e internacionais."
                            },
                            recommendations: {
                                1: "Identificar áreas e processos mais vulneráveis a fraudes e corrupção, implementar controles básicos (aprovações, conciliações) e conscientizar os colaboradores sobre riscos e sinais de alerta.",
                                2: "Formalizar políticas de prevenção a fraudes e corrupção, incluindo due diligence de terceiros, segregação de funções e procedimentos de investigação. Estabelecer canais de denúncia específicos e treinar equipes para lidar com suspeitas de irregularidades.",
                                3: "Aprimorar a detecção com uso de ferramentas de monitoramento contínuo, análises de dados e auditorias periódicas. Implementar programas de due diligence para parceiros e fornecedores, além de avaliações de integridade de colaboradores em posições críticas.",
                                4: "Integrar a gestão de fraudes e corrupção ao sistema de gestão de riscos corporativos, envolvendo alta administração e conselho em comitês de ética e compliance. Adotar certificações reconhecidas (como ISO 37001) e realizar avaliações externas independentes.",
                                5: "Ser reconhecida pela excelência na prevenção e combate a fraudes e corrupção, utilizando tecnologias avançadas (inteligência artificial, machine learning), liderando iniciativas setoriais, influenciando políticas públicas e compartilhando melhores práticas com outras organizações."
                            }
                        }
                    ],
                    recommendations: {
                        low: [
                            "Desenvolver código de conduta e política anticorrupção",
                            "Implementar canal de denúncias terceirizado e confidencial",
                            "Realizar treinamento de compliance para liderança"
                        ],
                        medium: [
                            "Estruturar área de compliance com reporte ao conselho",
                            "Implementar due diligence de terceiros e parceiros",
                            "Desenvolver programa de treinamento contínuo em ética e compliance"
                        ],
                        high: [
                            "Buscar certificação ISO 37301 (Sistema de Gestão de Compliance)",
                            "Implementar programa de monitoramento contínuo com analytics",
                            "Desenvolver programa de embaixadores de integridade"
                        ]
                    }
                },
                "Princípio 5: Sustentabilidade e cont do negócio": {
                    questions: [
                        {
                            text: "Nossa organização integra considerações sociais, ambientais e de governança (ESG) em sua estratégia e processos de tomada de decisão?",
                            levels: {
                                1: "Não há integração de fatores ESG na estratégia ou decisões.",
                                2: "Existem iniciativas pontuais de ESG, mas sem integração consistente na estratégia.",
                                3: "Alguns aspectos ESG são considerados nas decisões, mas de forma parcial e não sistemática.",
                                4: "As considerações ESG estão integradas de forma consistente à estratégia e às decisões organizacionais.",
                                5: "A integração ESG é parte central da estratégia, continuamente aprimorada e reconhecida como referência."
                            },
                            recommendations: {
                                1: "Compreender o conceito de ESG e identificar riscos e oportunidades para o negócio. Designar um responsável ou pequeno comitê para mapear temas relevantes e iniciar discussões sobre como integrá‑los à estratégia.",
                                2: "Formalizar uma política ESG que estabeleça princípios, objetivos e responsabilidades. Incluir critérios ambientais e sociais nas análises de investimento e planejamento estratégico, e definir metas iniciais de melhoria.",
                                3: "Aprimorar a integração incorporando métricas ESG nos processos de gestão de riscos e de desempenho, exigindo análises de impacto nas principais decisões. Envolver o conselho na supervisão das iniciativas ESG e reportar os progressos.",
                                4: "Incorporar totalmente ESG à estratégia corporativa, alinhando incentivos e remuneração da liderança ao desempenho ESG. Adotar frameworks internacionais (como TCFD e SASB) e promover a inovação para criar produtos e serviços sustentáveis.",
                                5: "Ser referência em ESG, com práticas avançadas que impactam positivamente a sociedade e o meio ambiente, relatórios amplamente reconhecidos e participação ativa em fóruns globais. Influenciar a cadeia de valor e os setores nos quais atua a adotar padrões elevados de sustentabilidade."
                            }
                        },
                        {
                            text: "São estabelecidas metas e indicadores de desempenho relacionados à sustentabilidade, e os resultados são monitorados e divulgados regularmente?",
                            levels: {
                                1: "Não há definição de metas ou indicadores de sustentabilidade.",
                                2: "Existem algumas metas ou indicadores, mas sem monitoramento ou divulgação consistente.",
                                3: "Há metas e indicadores definidos, com monitoramento parcial ou divulgação limitada.",
                                4: "Existem metas e indicadores claros, monitorados e divulgados regularmente.",
                                5: "Metas e KPI's robustos, monitorados, auditados, comunicados de forma transparente, com comparações de desempenho."
                            },
                            recommendations: {
                                1: "Identificar os aspectos de sustentabilidade mais relevantes (por exemplo emissões de gases de efeito estufa, consumo de água, diversidade, comunidade) e definir métricas básicas para acompanhamento. Iniciar a coleta de dados e divulgar resultados iniciais internamente.",
                                2: "Formalizar metas de curto e médio prazo alinhadas à estratégia da organização e definir responsabilidades pela coleta e verificação dos dados. Utilizar normas de reporte (como GRI) para orientar a estrutura dos indicadores e divulgá‑los a stakeholders internos e externos.",
                                3: "Ampliar o conjunto de indicadores, incluindo metas quantitativas e qualitativas, sistemas de gestão de dados e auditorias internas para garantir a qualidade das informações. Divulgar relatórios de progresso periódicos e integrar os resultados à avaliação de desempenho da gestão.",
                                4: "Integrar completamente os indicadores de sustentabilidade ao ciclo de planejamento e orçamento da organização, adotando padrões globais (por exemplo Science Based Targets) e relatórios certificados externamente. Garantir que o conselho revise os indicadores e metas regularmente.",
                                5: "Ser referência em gestão de sustentabilidade, estabelecendo metas ambiciosas e públicas, monitoradas em tempo real e auditadas por terceiros. Divulgar resultados de forma transparente, promover a educação sobre sustentabilidade e incentivar a cadeia de suprimentos a adotar metas semelhantes."
                            }
                        },
                        {
                            text: "A organização engaja-se ativamente com as partes interessadas para identificar e gerenciar os riscos e oportunidades relacionados à sustentabilidade?",
                            levels: {
                                1: "Não há engajamento estruturado com stakeholders em temas de sustentabilidade.",
                                2: "Há engajamento pontual, mas sem sistemática clara ou abrangência.",
                                3: "Existem iniciativas de engajamento regulares, mas limitadas a determinados públicos ou temas.",
                                4: "A organização engaja-se de forma estruturada e consistente com stakeholders para tratar riscos e oportunidades de sustentabilidade.",
                                5: "Engajamento ativo, contínuo e estratégico, com mecanismos de diálogo e cooperação reconhecidos como referência."
                            },
                            recommendations: {
                                1: "Mapear as partes interessadas (colaboradores, clientes, fornecedores, comunidade e governo) e criar canais básicos de consulta e diálogo sobre temas de sustentabilidade, registrando preocupações e sugestões.",
                                2: "Formalizar uma política de engajamento com stakeholders, programando consultas regulares, pesquisas de percepção e reuniões. Incorporar os feedbacks recebidos nos processos de gestão de riscos e oportunidades relacionados à sustentabilidade.",
                                3: "Ampliar o engajamento com iniciativas de cocriação de projetos sociais e ambientais, parcerias com organizações da sociedade civil e participação em fóruns setoriais. Medir a eficácia das ações e divulgar os resultados às partes interessadas.",
                                4: "Integrar o engajamento de stakeholders à governança, estabelecendo comitês com representantes de diferentes grupos para discutir estratégias, riscos e oportunidades. Divulgar relatórios de engajamento e demonstrar como as contribuições influenciam a tomada de decisão.",
                                5: "Ser referência em engajamento, mantendo diálogo contínuo e transparente com as partes interessadas, participando de redes colaborativas e inspirando outras organizações. Implementar ferramentas digitais para colaboração em tempo real e demonstrar o impacto positivo das parcerias em sustentabilidade."
                            }
                        }
                    ],
                    recommendations: {
                        low: [
                            "Mapear impactos ESG do negócio e stakeholders afetados",
                            "Identificar posições críticas e potenciais sucessores",
                            "Realizar mapeamento inicial de riscos corporativos"
                        ],
                        medium: [
                            "Desenvolver estratégia ESG com metas e indicadores",
                            "Implementar programa de desenvolvimento de sucessores",
                            "Estruturar área de gestão de riscos com metodologia definida"
                        ],
                        high: [
                            "Buscar certificações e ratings ESG (B Corp, CDP, DJSI)",
                            "Implementar programa avançado de assessment e coaching de liderança",
                            "Implementar sistema integrado de GRC (Governance, Risk, Compliance)"
                        ]
                    }
                }
            }
 
        };
 
        const maturityLevels = {
            1: { name: "Não fazemos", color: "#EF4444" },
            2: { name: "Iniciando", color: "#F59E0B" },
            3: { name: "Em desenvolvimento", color: "#FDE047" },
            4: { name: "Consolidado", color: "#84CC16" },
            5: { name: "Excelência", color: "#22C55E" }
        };

        let currentPrincipleIndex = 0;
        let responses = {};
        let principleKeys = [];
        let totalQuestions = 0;
        let answeredQuestions = 0;

        function startAssessment() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('assessmentQuestions').classList.remove('hidden');
            document.getElementById('progressIndicator').classList.remove('hidden');
            
            principleKeys = Object.keys(assessmentData.principles);
            totalQuestions = principleKeys.reduce((sum, key) => 
                sum + assessmentData.principles[key].questions.length, 0);
            
            renderPrincipleQuestions();
        }

        function renderPrincipleQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';
            
            const principle = principleKeys[currentPrincipleIndex];
            const principleData = assessmentData.principles[principle];
            
            const principleDiv = document.createElement('div');
            principleDiv.className = 'principle-card fade-in';
            
            const principleHeader = document.createElement('div');
            principleHeader.className = 'mb-6';
            
            const principleTitle = document.createElement('h3');
            principleTitle.className = 'text-xl font-bold text-peers-blue mb-2';
            principleTitle.textContent = principle;
            principleHeader.appendChild(principleTitle);
            
            const principleProgress = document.createElement('p');
            principleProgress.className = 'text-sm text-gray-600';
            principleProgress.textContent = `Princípio ${currentPrincipleIndex + 1} de ${principleKeys.length}`;
            principleHeader.appendChild(principleProgress);
            
            principleDiv.appendChild(principleHeader);
            
            principleData.questions.forEach((question, qIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-card';
                
                const questionNumber = document.createElement('div');
                questionNumber.className = 'text-sm font-semibold text-peers-blue mb-2';
                questionNumber.textContent = `Pergunta ${qIndex + 1} de ${principleData.questions.length}`;
                questionDiv.appendChild(questionNumber);
                
                const questionText = document.createElement('p');
                questionText.className = 'font-medium text-gray-800 mb-6';
                questionText.textContent = question.text;
                questionDiv.appendChild(questionText);
                
                const optionsGrid = document.createElement('div');
                optionsGrid.className = 'grid grid-cols-2 md:grid-cols-5 gap-3';
                
                for (let level = 1; level <= 5; level++) {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'maturity-option p-4 border-2 border-gray-200 rounded-lg text-center relative';
                    optionDiv.style.borderColor = maturityLevels[level].color;
                    
                    const questionKey = `${principle}_Q${qIndex}`;
                    optionDiv.setAttribute('data-question', questionKey);
                    optionDiv.setAttribute('data-level', level);
                    if (responses[questionKey] === level) {
                        optionDiv.classList.add('selected');
                    }
                    
                    const levelNumber = document.createElement('div');
                    levelNumber.className = 'text-2xl font-bold mb-2';
                    levelNumber.style.color = maturityLevels[level].color;
                    levelNumber.textContent = level;
                    
                    const levelName = document.createElement('div');
                    levelName.className = 'font-semibold text-sm mb-2';
                    levelName.textContent = maturityLevels[level].name;
                    
                    const infoContainer = document.createElement('div');
                    infoContainer.className = 'relative inline-block';
                    
                    const infoIcon = document.createElement('span');
                    infoIcon.className = 'info-icon';
                    infoIcon.innerHTML = 'i';
                    
                    const tooltip = document.createElement('div');
                    tooltip.className = 'info-tooltip';
                    tooltip.id = `tooltip_${principle}_Q${qIndex}_L${level}`;
                    tooltip.textContent = question.levels[level];

                    infoIcon.onclick = (e) => {
                        e.stopPropagation();
                        toggleTooltip(tooltip.id);
                    };

                    infoContainer.appendChild(infoIcon);
                    infoContainer.appendChild(tooltip);
                    
                    optionDiv.appendChild(levelNumber);
                    optionDiv.appendChild(levelName);
                    optionDiv.appendChild(infoContainer);
                    
                    optionDiv.onclick = () => selectOption(principle, qIndex, level);
                    
                    optionsGrid.appendChild(optionDiv);
                }
                
                questionDiv.appendChild(optionsGrid);
                principleDiv.appendChild(questionDiv);
            });
            
            container.appendChild(principleDiv);
            updateNavigationButtons();
            updateProgress();
        }

        function toggleTooltip(tooltipId) {
            const tooltip = document.getElementById(tooltipId);
            const overlay = document.querySelector('.tooltip-overlay');
            
            document.querySelectorAll('.info-tooltip.show').forEach(t => {
                if (t.id !== tooltipId) t.classList.remove('show');
            });
            
            const isShowing = tooltip.classList.toggle('show');
            
            if (window.innerWidth <= 768) {
                if (isShowing) {
                    overlay.classList.add('show');
                } else {
                    overlay.classList.remove('show');
                }
            }
        }

        function closeAllTooltips() {
            document.querySelectorAll('.info-tooltip').forEach(t => {
                t.classList.remove('show');
            });
            document.querySelector('.tooltip-overlay').classList.remove('show');
        }

        function selectOption(principle, questionIndex, level) {
            const questionKey = `${principle}_Q${questionIndex}`;
            const wasAnswered = responses[questionKey] !== undefined;
            
            responses[questionKey] = level;
            
            if (!wasAnswered) {
                answeredQuestions++;
            }
            
            document.querySelectorAll(`[data-question="${questionKey}"]`).forEach(el => {
                el.classList.remove('selected');
            });
            
            const selectedElement = document.querySelector(`[data-question="${questionKey}"][data-level="${level}"]`);
            if (selectedElement) {
                selectedElement.classList.add('selected');
            }
            
            updateProgress();
        }

        function nextPrinciple() {
            const principle = principleKeys[currentPrincipleIndex];
            const principleData = assessmentData.principles[principle];
            let allAnswered = true;
            
            for (let i = 0; i < principleData.questions.length; i++) {
                const questionKey = `${principle}_Q${i}`;
                if (!responses[questionKey]) {
                    allAnswered = false;
                    break;
                }
            }
            
            if (!allAnswered) {
                alert('Você não respondeu todas as perguntas deste princípio.');
                return;
            }
            
            if (currentPrincipleIndex < principleKeys.length - 1) {
                currentPrincipleIndex++;
                renderPrincipleQuestions();
                window.scrollTo(0, 0);
            } else {
                submitAssessment();
            }
        }

        function previousPrinciple() {
            if (currentPrincipleIndex > 0) {
                currentPrincipleIndex--;
                renderPrincipleQuestions();
                window.scrollTo(0, 0);
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            if (currentPrincipleIndex === 0) {
                prevBtn.classList.add('hidden');
            } else {
                prevBtn.classList.remove('hidden');
            }
            
            const isLastPrinciple = currentPrincipleIndex === principleKeys.length - 1;
            
            if (isLastPrinciple) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function updateProgress() {
            const progress = (answeredQuestions / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = `${Math.round(progress)}% - ${answeredQuestions} de ${totalQuestions} perguntas respondidas`;
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeAllTooltips();
            }
        });

        function submitAssessment() {
            if (answeredQuestions < totalQuestions) {
                if (!confirm('Você não respondeu todas as perguntas. Deseja continuar mesmo assim?')) {
                    return;
                }
            }
            
            document.getElementById('assessmentQuestions').classList.add('hidden');
            document.getElementById('progressIndicator').classList.add('hidden');
            document.getElementById('dataCaptureSection').classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        function generateReport(userData = null) {
            if (userData && userData.company) {
                const reportTitle = document.querySelector('#reportSection h2');
                if (reportTitle) {
                    reportTitle.innerHTML = `Relatório de Maturidade em Governança<br><span class="text-xl font-normal text-gray-600">${userData.company}</span>`;
                }
            }
            
            document.getElementById('assessmentQuestions').classList.add('hidden');
            document.getElementById('progressIndicator').classList.add('hidden');
            document.getElementById('reportSection').classList.remove('hidden');
            
            const principleScores = {};
            let totalScore = 0;
            let totalResponses = 0;
            
            principleKeys.forEach(principle => {
                const principleData = assessmentData.principles[principle];
                let principleSum = 0;
                let principleCount = 0;
                
                principleData.questions.forEach((_, qIndex) => {
                    const questionKey = `${principle}_Q${qIndex}`;
                    if (responses[questionKey]) {
                        principleSum += responses[questionKey];
                        principleCount++;
                        totalScore += responses[questionKey];
                        totalResponses++;
                    }
                });
                
                if (principleCount > 0) {
                    principleScores[principle] = principleSum / principleCount;
                }
            });
            
            const overallScore = totalResponses > 0 ? totalScore / totalResponses : 0;
            
            const indicator = document.getElementById('scoreIndicator');
            const percentage = ((overallScore - 1) / 4) * 100;
            
            setTimeout(() => {
                indicator.style.left = `${percentage}%`;
            }, 300);
            
            document.getElementById('overallScore').textContent = overallScore.toFixed(1);
            document.getElementById('overallLevel').textContent = `Nível: ${maturityLevels[Math.round(overallScore)].name}`;
            
            createRadarChart(principleScores);
            displayPrincipleScores(principleScores);
            generateRecommendations(principleScores);
            
            window.scrollTo(0, 0);
        }

        function createRadarChart(scores) {
            const ctx = document.getElementById('radarChart');
            if (!ctx) {
                console.error('Canvas radarChart não encontrado');
                return;
            }
            
            const context = ctx.getContext('2d');
            const labels = Object.keys(scores).map(key => {
                const fullName = key.split(':')[1].trim();
                return fullName;
            });

            const data = Object.values(scores);
            const isMobile = window.innerWidth < 768;
            
            // Limpar qualquer gráfico anterior
            if (window.myRadarChart) {
                window.myRadarChart.destroy();
            }
            
            window.myRadarChart = new Chart(context, {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Maturidade',
                        data: data,
                        backgroundColor: 'rgba(216, 232, 238, 0.4)',
                        borderColor: '#011334',
                        pointBackgroundColor: '#011334',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#E1FF00',
                        pointHoverBorderColor: '#011334',
                        borderWidth: isMobile ? 2 : 3,
                        pointRadius: isMobile ? 4 : 7,
                        pointHoverRadius: isMobile ? 6 : 9
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    layout: {
                        padding: isMobile ? 20 : 50
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 5,
                            min: 0,
                            ticks: {
                                stepSize: 1,
                                font: {
                                    size: isMobile ? 8 : 12
                                },
                                backdropColor: 'transparent',
                                backdropPadding: 0,
                                display: true
                            },
                            pointLabels: {
                                font: {
                                    size: isMobile ? 8 : 11,
                                    weight: '600'
                                },
                                padding: isMobile ? 10 : 25,
                                callback: function(label) {
                                    if (isMobile) {
                                        const words = label.split(' ');
                                        if (words.length > 2) {
                                            return [
                                                words.slice(0, 2).join(' '),
                                                words.slice(2).join(' ')
                                            ];
                                        }
                                    }
                                    return label;
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)',
                                circular: true
                            },
                            angleLines: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: true,
                            backgroundColor: 'rgba(1, 19, 52, 0.9)',
                            titleColor: '#E1FF00',
                            bodyColor: '#fff',
                            padding: isMobile ? 8 : 12,
                            cornerRadius: 8,
                            titleFont: {
                                size: isMobile ? 11 : 13
                            },
                            bodyFont: {
                                size: isMobile ? 10 : 12
                            }
                        }
                    }
                }
            });
        }

        function displayPrincipleScores(scores) {
            const container = document.getElementById('principleScores');
            container.innerHTML = '';
            
            Object.entries(scores).forEach(([principle, score]) => {
                const scoreDiv = document.createElement('div');
                scoreDiv.className = 'mb-6 p-4 bg-gray-50 rounded-lg';
                
                const header = document.createElement('div');
                header.className = 'flex justify-between items-center mb-2';
                
                const title = document.createElement('h4');
                title.className = 'font-semibold text-peers-blue';
                title.textContent = principle;
                
                const scoreValue = document.createElement('span');
                scoreValue.className = 'text-2xl font-bold';
                scoreValue.style.color = maturityLevels[Math.round(score)].color;
                scoreValue.textContent = score.toFixed(1);
                
                header.appendChild(title);
                header.appendChild(scoreValue);
                scoreDiv.appendChild(header);
                
                const progressBar = document.createElement('div');
                progressBar.className = 'w-full bg-gray-200 rounded-full h-3';
                
                const progressFill = document.createElement('div');
                progressFill.className = 'h-3 rounded-full transition-all duration-500';
                progressFill.style.width = `${(score / 5) * 100}%`;
                progressFill.style.backgroundColor = maturityLevels[Math.round(score)].color;
                
                progressBar.appendChild(progressFill);
                scoreDiv.appendChild(progressBar);
                
                container.appendChild(scoreDiv);
            });
        }

 function generateRecommendations(scores) {
    const container = document.getElementById('recommendationsContainer');
    if (!container) {
        console.error('Container de recomendações não encontrado');
        return;
    }
    
    let html = '';
    
    // Iterar sobre cada princípio
    principleKeys.forEach(principle => {
        const principleData = assessmentData.principles[principle];
        if (!principleData) {
            console.warn(`Dados do princípio ${principle} não encontrados`);
            return;
        }
        
        const principleRecommendations = [];
        
        // Coletar recomendações baseadas nas respostas específicas
        principleData.questions.forEach((question, qIndex) => {
            const questionKey = `${principle}_Q${qIndex}`;
            const responseLevel = responses[questionKey];
            
            // Se há resposta e não é nível 5 (máximo)
            if (responseLevel && responseLevel < 5) {
                // Verificar se a pergunta tem recomendações definidas
                if (question.recommendations && question.recommendations[responseLevel]) {
                    principleRecommendations.push({
                        question: question.text,
                        currentLevel: responseLevel,
                        recommendation: question.recommendations[responseLevel]
                    });
                } else {
                    // Se não há recomendação específica, usar recomendação genérica baseada no nível
                    const genericRecommendation = getGenericRecommendation(principle, responseLevel);
                    principleRecommendations.push({
                        question: question.text,
                        currentLevel: responseLevel,
                        recommendation: genericRecommendation
                    });
                }
            }
        });
        
        // Se há recomendações para este princípio, adicionar ao HTML
        if (principleRecommendations.length > 0) {
            html += `
                <div class="mb-8">
                    <h4 class="text-xl font-bold text-peers-blue mb-4">${principle}</h4>
                    <div class="space-y-4">
            `;
            
            // Ordenar recomendações por prioridade (níveis mais baixos primeiro)
            principleRecommendations.sort((a, b) => a.currentLevel - b.currentLevel);
            
            principleRecommendations.forEach(rec => {
                const priorityColor = rec.currentLevel <= 2 ? 'red' : rec.currentLevel === 3 ? 'yellow' : 'blue';
                const priorityText = rec.currentLevel <= 2 ? 'Alta Prioridade' : rec.currentLevel === 3 ? 'Média Prioridade' : 'Melhoria Contínua';
                const priorityIcon = rec.currentLevel <= 2 ? '🔴' : rec.currentLevel === 3 ? '🟡' : '🔵';
                
                html += `
                    <div class="bg-gray-50 rounded-lg p-4 border-l-4 border-${priorityColor}-500 hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start mb-2">
                            <span class="text-sm font-semibold text-${priorityColor}-600 flex items-center gap-1">
                                ${priorityIcon} ${priorityText}
                            </span>
                            <span class="text-sm text-gray-500 bg-white px-2 py-1 rounded">
                                Nível Atual: ${rec.currentLevel}/5
                            </span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3 italic">
                            <strong>Pergunta:</strong> ${rec.question}
                        </p>
                        <div class="prose max-w-none">
                            <p class="text-gray-800 leading-relaxed">${rec.recommendation}</p>
                        </div>
                    </div>
                `;
            });
            
            html += `
                    </div>
                </div>
            `;
        }
    });
    
    // Se não há recomendações (todos no nível 5), mostrar mensagem de parabéns
    if (!html) {
        html = `
            <div class="text-center p-8 bg-green-50 rounded-lg">
                <div class="text-6xl mb-4">🎉</div>
                <h3 class="text-2xl font-bold text-green-800 mb-2">Parabéns!</h3>
                <p class="text-gray-600">
                    Sua organização atingiu o nível máximo de maturidade em todos os princípios avaliados.
                    Continue mantendo essas excelentes práticas de governança!
                </p>
            </div>
        `;
    }
    
    // Adicionar resumo de ações prioritárias no início
    const priorityActions = getPriorityActions();
    if (priorityActions.length > 0) {
        const priorityHtml = `
            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-8">
                <h4 class="text-lg font-bold text-yellow-800 mb-3 flex items-center gap-2">
                    ⚡ Ações Prioritárias Recomendadas
                </h4>
                <ul class="space-y-2 text-gray-700">
                    ${priorityActions.map(action => `<li class="flex items-start gap-2">
                        <span class="text-yellow-600 mt-1">→</span>
                        <span>${action}</span>
                    </li>`).join('')}
                </ul>
            </div>
        `;
        html = priorityHtml + html;
    }
    
    container.innerHTML = html;
}

// Função auxiliar para obter recomendação genérica se não houver específica
function getGenericRecommendation(principle, level) {
    const genericRecommendations = {
        1: "Iniciar implementação de práticas básicas de governança nesta área. Estabelecer processos fundamentais e conscientizar a equipe sobre a importância do tema.",
        2: "Formalizar e estruturar os processos existentes. Criar documentação, definir responsabilidades e estabelecer rotinas de acompanhamento.",
        3: "Ampliar e aprofundar as práticas atuais. Integrar processos, implementar métricas de acompanhamento e buscar melhores práticas do mercado.",
        4: "Consolidar e otimizar os processos maduros. Buscar certificações, automatizar controles e compartilhar conhecimento com o mercado."
    };
    
    return genericRecommendations[level] || "Continuar evoluindo as práticas de governança nesta área.";
}

// Função auxiliar para identificar ações prioritárias
function getPriorityActions() {
    const actions = [];
    
    // Calcular a média geral de TODAS as respostas
    let totalScore = 0;
    let totalResponses = 0;
    
    Object.values(responses).forEach(score => {
        if (score) {
            totalScore += score;
            totalResponses++;
        }
    });
    
    // Calcular média geral
    const avgScore = totalResponses > 0 ? (totalScore / totalResponses) : 0;
    
    // Adicionar análise geral baseada na média
    if (avgScore > 0 && avgScore <= 2.5) {
        actions.push("Governança Inicial/Básica: Esse resultado indica a necessidade de iniciar a formalização de políticas, definição clara de responsabilidades e criação de mecanismos básicos de comunicação, monitoramento e engajamento. O momento é de construção de fundamentos sólidos, que servirão como base para avançar rumo a um nível mais consistente de governança.");
    }
    else if (avgScore > 2.5 && avgScore <= 3.5) {
        actions.push("Governança em Desenvolvimento: A organização já demonstra avanços relevantes na adoção de práticas de governança, mas ainda de forma parcial, irregular ou pouco integrada. Existem processos estruturados, porém com falhas de aplicação ou baixa maturidade. Esse estágio mostra que a governança já é reconhecida como tema estratégico, mas precisa ser fortalecida com maior consistência, padronização e monitoramento. O próximo passo é ampliar o escopo das ações existentes, investir em indicadores e treinamentos, além de integrar as práticas de forma transversal à estratégia do negócio.");
    }
    else if (avgScore > 3.5 && avgScore <= 4.5) {
        actions.push("Governança Estruturada e Consistente: Sua organização possui um nível sólido de governança corporativa, com práticas claras, consistentes e alinhadas aos princípios fundamentais. Há transparência nos processos, equidade entre stakeholders, mecanismos eficazes de accountability, integridade institucionalizada e integração de temas ESG à estratégia. O desafio, nesse estágio, é consolidar ainda mais os processos, investir em revisão contínua, automatização e rastreabilidade, garantindo que as práticas de governança se mantenham atualizadas e sustentáveis a longo prazo. Esse é um nível avançado que coloca a organização em posição diferenciada no mercado.");
    }
    else if (avgScore > 4.5) {
        actions.push("Governança de Excelência/Referência: Sua organização alcança um nível de excelência em governança corporativa, sendo referência no mercado. As práticas estão consolidadas, continuamente aprimoradas, auditadas e reconhecidas como benchmark. Existe um compromisso ativo com transparência, equidade, accountability, integridade e sustentabilidade, com inovação e engajamento efetivo das partes interessadas. Esse resultado indica maturidade elevada e posiciona a organização não apenas como praticante, mas também como inspiradora de boas práticas, capaz de compartilhar experiências e influenciar positivamente seu ecossistema.");
    }
    
    // Adicionar ações específicas baseadas em áreas críticas
    const criticalAreas = [];
    
    principleKeys.forEach(principle => {
        const principleData = assessmentData.principles[principle];
        let sumScores = 0;
        let countScores = 0;
        
        principleData.questions.forEach((_, qIndex) => {
            const questionKey = `${principle}_Q${qIndex}`;
            if (responses[questionKey]) {
                sumScores += responses[questionKey];
                countScores++;
            }
        });
        
        if (countScores > 0) {
            const principlAvgScore = sumScores / countScores;
            if (principlAvgScore <= 2) {
                criticalAreas.push(principle.split(':')[1].trim());
            }
        }
    });
    
    // Adicionar recomendações adicionais se houver áreas críticas
    if (criticalAreas.length > 0) {
        actions.push(`Atenção especial necessária nas áreas: ${criticalAreas.join(', ')}`);
    }
    
    return actions;
}


        function printReport() {
            window.print();
        }

        function startNewAssessment() {
            responses = {};
            currentPrincipleIndex = 0;
            answeredQuestions = 0;
            
            document.getElementById('reportSection').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
            
            window.scrollTo(0, 0);
        }

        function applyWhatsappMask(value) {
            value = value.replace(/\D/g, '');
            value = value.substring(0, 11);
            
            if (value.length > 6) {
                value = value.replace(/^(\d{2})(\d{5})(\d{0,4})/, '($1) $2-$3');
            } else if (value.length > 2) {
                value = value.replace(/^(\d{2})(\d{0,5})/, '($1) $2');
            } else if (value.length > 0) {
                value = value.replace(/^(\d{0,2})/, '($1');
            }
            
            return value;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const whatsappInput = document.getElementById('userWhatsapp');
            if (whatsappInput) {
                whatsappInput.addEventListener('input', function(e) {
                    e.target.value = applyWhatsappMask(e.target.value);
                });
                
                whatsappInput.addEventListener('keypress', function(e) {
                    const char = String.fromCharCode(e.which);
                    if (!/[0-9]/.test(char) && e.which !== 8 && e.which !== 46) {
                        e.preventDefault();
                    }
                });
            }

            const dataForm = document.getElementById('dataForm');
            if (dataForm) {
                dataForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const userData = {
                        name: document.getElementById('userName').value,
                        company: document.getElementById('userCompany').value,
                        email: document.getElementById('userEmail').value,
                        whatsapp: document.getElementById('userWhatsapp').value || '',
                        timestamp: new Date().toISOString()
                    };
                    
                    // Calcular scores dos princípios
                    const principleScores = {};
                    principleKeys.forEach(principle => {
                        const principleData = assessmentData.principles[principle];
                        let principleSum = 0;
                        let principleCount = 0;
                        
                        principleData.questions.forEach((_, qIndex) => {
                            const questionKey = `${principle}_Q${qIndex}`;
                            if (responses[questionKey]) {
                                principleSum += responses[questionKey];
                                principleCount++;
                            }
                        });
                        
                        if (principleCount > 0) {
                            principleScores[principle] = (principleSum / principleCount).toFixed(1);
                        }
                    });
                    
                    // Calcular score geral
                    let totalScore = 0;
                    let totalResponses = 0;
                    Object.values(responses).forEach(score => {
                        totalScore += score;
                        totalResponses++;
                    });
                    const overallScore = (totalScore / totalResponses).toFixed(1);
                    const overallLevel = maturityLevels[Math.round(overallScore)].name;
                    
                    // Preparar dados para Google Sheets
                    const sheetData = {
                        name: userData.name,
                        company: userData.company,
                        email: userData.email,
                        whatsapp: userData.whatsapp,
                        overallScore: overallScore,
                        overallLevel: overallLevel,
                        principle1Score: principleScores[principleKeys[0]] || '0',
                        principle2Score: principleScores[principleKeys[1]] || '0',
                        principle3Score: principleScores[principleKeys[2]] || '0',
                        principle4Score: principleScores[principleKeys[3]] || '0',
                        principle5Score: principleScores[principleKeys[4]] || '0'
                    };
                    
                    // ⚠️ IMPORTANTE: SUBSTITUA PELA SUA URL DO GOOGLE APPS SCRIPT
                    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwpKC3wOQJY8PGayo1A61i9HRzTH32VdCm2sw1879vP8XCc0GMKw_1NFR3eiuQiNf31hw/exec';
                    
                    // Enviar para Google Sheets
                    try {
                        if (GOOGLE_SCRIPT_URL !== 'COLE_AQUI_A_URL_DO_SEU_GOOGLE_SCRIPT') {
                            const response = await fetch(GOOGLE_SCRIPT_URL, {
                                method: 'POST',
                                mode: 'no-cors',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify(sheetData)
                            });
                            
                            console.log('Dados enviados para Google Sheets');
                        } else {
                            console.warn('⚠️ URL do Google Script não configurada');
                        }
                    } catch (error) {
                        console.error('Erro ao enviar para Google Sheets:', error);
                    }
                    
                    // Gerar relatório
                    document.getElementById('dataCaptureSection').classList.add('hidden');
                    generateReport(userData);
                });
            }
        });

        document.addEventListener('click', function(e) {
            if (!e.target.classList.contains('info-icon')) {
                document.querySelectorAll('.info-tooltip.show').forEach(t => {
                    t.classList.remove('show');
                });
            }
        });
    </script>
</body>
</html>
